<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="
      default-src 'self';
      script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com;
      style-src 'self' 'unsafe-inline';
      img-src 'self' data: https: blob:;
      connect-src 'self' https://api.memegen.link https://api.openai.com https://api.runwayml.com https://api.dev.runwayml.com https://graph.facebook.com https://open.tiktokapis.com https://www.googleapis.com https://upload.twitter.com https://api.twitter.com https://cdn.jsdelivr.net;
      font-src 'self' data:;
      media-src 'self' blob: data:;
      worker-src 'self' blob:;
    " />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <meta name="description" content="AI-powered social media automation tool for creating and scheduling content across multiple platforms">
  <title>AI Auto Bot - Social Media Content Generator</title>
  <link rel="stylesheet" href="styles.css" />
  <!-- Security utilities MUST load first -->
  <script src="utils/sanitize.js"></script>
  <script src="utils/security-warnings.js"></script>
  <!-- Accessibility utilities -->
  <script src="utils/accessibility.js"></script>
  <!-- Toast and keyboard shortcuts -->
  <script src="utils/toast.js"></script>
  <script src="utils/keyboard-shortcuts.js"></script>
  <script src="utils/drag-drop.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gif.js@0.2.0/dist/gif.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <!-- FullCalendar for content calendar -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js"></script>
</head>

<body>
  <!-- SIDEBAR NAVIGATION -->
  <nav id="sidebar" role="navigation" aria-label="Main navigation">
    <div class="sidebar-header">
      <h2>üé¨ AI Auto Bot</h2>
      <!-- Account Switcher -->
      <div class="account-switcher">
        <button type="button" id="accountSwitcherBtn" class="account-switcher-btn"
          aria-label="Switch between connected accounts"
          aria-expanded="false"
          aria-controls="accountSwitcherMenu"
          title="Switch between connected accounts">
          <span class="account-icon" aria-hidden="true">üë§</span>
          <span class="account-name">All Accounts</span>
          <span class="account-arrow" aria-hidden="true">‚ñº</span>
        </button>
        <div id="accountSwitcherMenu" class="account-switcher-menu" role="menu" aria-hidden="true" style="display: none;">
          <div class="account-menu-header">
            <span>Active Accounts</span>
            <button type="button" id="closeAccountMenu" class="close-menu-btn" aria-label="Close account menu">‚úï</button>
          </div>
          <div class="account-menu-list" role="group">
            <!-- Dynamic account list will be populated here -->
            <div class="account-menu-empty">
              <p>No accounts connected</p>
              <small>Connect accounts in Settings</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ul class="sidebar-nav" role="menubar">
      <li class="nav-item active" data-section="generate" role="none">
        <button type="button" role="menuitem" aria-current="page" aria-label="Generate content section">
          <span class="nav-icon" aria-hidden="true">‚ú®</span>
          <span class="nav-label">Generate</span>
        </button>
      </li>
      <li class="nav-item" data-section="schedule" role="none">
        <button type="button" role="menuitem" aria-label="Schedule posts section">
          <span class="nav-icon" aria-hidden="true">üìÖ</span>
          <span class="nav-label">Schedule</span>
        </button>
      </li>
      <li class="nav-item" data-section="library" role="none">
        <button type="button" role="menuitem" aria-label="Content library section">
          <span class="nav-icon" aria-hidden="true">üìö</span>
          <span class="nav-label">Library</span>
        </button>
      </li>
      <li class="nav-item" data-section="settings" role="none">
        <button type="button" role="menuitem" aria-label="Settings section">
          <span class="nav-icon" aria-hidden="true">‚öôÔ∏è</span>
          <span class="nav-label">Settings</span>
        </button>
      </li>
      <li class="nav-item" data-section="stats" role="none">
        <button type="button" role="menuitem" aria-label="Statistics and logs section">
          <span class="nav-icon" aria-hidden="true">üí∞</span>
          <span class="nav-label">Stats & Logs</span>
        </button>
      </li>
    </ul>
    <div class="sidebar-footer">
      <label class="toggle">
        <span class="nav-icon" aria-hidden="true">üåô</span>
        Dark Mode
        <input type="checkbox" id="darkModeToggle" aria-label="Toggle dark mode" />
        <span class="slider" aria-hidden="true"></span>
      </label>
      <button type="button" id="high-contrast-toggle" class="btn-secondary" aria-label="Toggle high contrast mode" title="Toggle high contrast mode">
        <span aria-hidden="true">‚óê</span> High Contrast
      </button>
    </div>
  </nav>

  <!-- MAIN CONTENT AREA -->
  <main class="main-content" id="main-content" role="main">
    <div class="container">

      <!-- SECTION: GENERATE -->
      <div id="section-generate" class="content-section active">
        <header class="section-header">
          <h1>‚ú® Generate Content</h1>
          <p>Create memes and videos with AI</p>
        </header>

        <!-- Top-bar Controls -->
        <div id="controls" class="section-controls">
          <div id="errorContainer" class="error-container" style="color: red; margin: 10px 0; display: none"></div>
          <button type="button" id="previewPostBtn" title="Preview before posting (Ctrl+P)">üëÅÔ∏è Preview</button>
          <button type="button" id="postNowBtn">Post Now</button>
          <button type="button" id="bulkGenerateBtn">Bulk Generate</button>
          <button type="button" id="createSlideshowBtn" style="display: none">
            Create Slideshow (<span id="slideshowCount">0</span>)
          </button>
        </div>

        <!-- Content Type -->
        <fieldset>
          <legend>Content Type</legend>
          <label>Type
            <select id="contentType">
              <option value="meme">Meme</option>
              <option value="video">Video</option>
            </select>
          </label>
        </fieldset>

        <!-- Content Templates -->
        <fieldset id="templateSelector" class="highlighted-fieldset">
          <legend>üìù Use Template (Optional)</legend>
          <p style="margin: 0 0 12px 0; color: var(--text-secondary); font-size: 0.9rem;">
            Quick-start with a pre-made template
          </p>

          <label>Select Template
            <select id="templateSelect" class="full-width-select">
              <option value="">-- Select a meme template --</option>
            </select>
          </label>

          <div id="templatePreview" class="template-preview" style="display: none;">
            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px;">
              <div>
                <div id="templatePreviewName" style="font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">
                </div>
                <div id="templatePreviewCategory" style="font-size: 0.85rem; color: var(--text-secondary);"></div>
              </div>
              <div id="templatePreviewPlatforms" style="display: flex; gap: 4px; font-size: 1.2em;"></div>
            </div>
            <div id="templatePreviewCaption" class="template-preview-caption"></div>
            <div id="templatePreviewHashtags" style="font-size: 0.85rem; color: var(--accent-color);"></div>
            <button type="button" id="applyTemplateBtn" class="action-btn full-width">
              ‚ú® Apply Template
            </button>
          </div>
        </fieldset>

        <!-- Meme Fields -->
        <fieldset id="memeFields">
          <legend>Meme</legend>

          <!-- Mode Selection Group -->
          <div class="form-group">
            <div class="form-group-title">Mode Selection</div>
            <label>Meme Mode
              <select id="memeMode">
                <option value="template">Use Template</option>
                <option value="generate">AI Generate</option>
                <option value="edit">AI Edit Image</option>
                <option value="variations">Create Variations</option>
              </select>
            </label>
            <label>Template
              <input type="text" id="memeSearch" placeholder="Search templates..." style="margin-bottom: 5px" />
              <select id="memeTemplate">
                <option value="ai-generator">-- Select a meme template --</option>
              </select>
            </label>
          </div>

          <!-- Text Content Group -->
          <div class="form-group">
            <div class="form-group-title">Text Content</div>
            <label>
              Top Text
              <input type="text" id="memeTopText" placeholder="Top text" />
            </label>
            <label>
              Bottom Text
              <input type="text" id="memeBottomText" placeholder="Bottom text" />
            </label>

            <label id="promptLabel" style="display: none">
              AI Prompt
              <textarea id="aiPrompt" placeholder="Describe the meme you want..." rows="3"></textarea>
            </label>
          </div>

          <!-- Media Upload Group -->
          <div class="form-group" id="mediaUploadGroup" style="display: none;">
            <div class="form-group-title">Media Upload</div>
            <label id="sourceImageLabel">
              Source Image
              <div class="drop-zone" id="sourceImageDropZone">
                <div class="drop-zone-icon">üìÅ</div>
                <div class="drop-zone-text">Drag & Drop Image Here</div>
                <div class="drop-zone-hint">or click to browse</div>
              </div>
              <input type="file" id="sourceImage" accept="image/*" style="display:none" />
            </label>

            <label id="maskImageLabel">
              Mask Image (optional)
              <div class="drop-zone" id="maskImageDropZone">
                <div class="drop-zone-icon">üìÅ</div>
                <div class="drop-zone-text">Drag & Drop Mask Here</div>
                <div class="drop-zone-hint">or click to browse</div>
              </div>
              <input type="file" id="maskImage" accept="image/*" style="display:none" />
            </label>
          </div>

          <!-- Action Buttons Group -->
          <div class="form-group">
            <button type="button" id="actionBtn" class="action-btn" style="display: none;">
              Generate
            </button>

            <button type="button" id="createVariationsBtn" class="action-btn" style="display: none;">
              Create Variations
            </button>

            <div id="variationResults" style="display: none; margin-top: 10px"></div>
          </div>

          <fieldset>
            <legend>Preview</legend>
            <div class="meme-preview-container">
              <img id="memePreview" alt="Live Meme Preview" class="meme-preview-img" />
              <div class="meme-preview-placeholder">
                <span class="placeholder-icon">üé®</span>
                <span class="placeholder-text">Select a template and add text<br>to preview your meme</span>
              </div>
            </div>
            <button type="button" id="saveMemeToLibrary" class="save-btn">
              üíæ Save to Library
            </button>
          </fieldset>
        </fieldset>

        <!-- Video Fields -->
        <fieldset id="videoFields" style="display: none">
          <legend>Video</legend>
          <label>Video Mode
            <select id="videoMode">
              <option value="text">Text to Video</option>
              <option value="memes">Meme Compilation</option>
            </select>
          </label>

          <label id="videoAiProviderLabel">
            AI Provider
            <select id="videoAiProvider">
              <optgroup label="üí∞ Paid API (Best Quality)">
                <option value="runway">Runway ML Gen-3 (Professional)</option>
                <option value="luma">Luma Dream Machine (Fast)</option>
                <option value="haiper">Haiper AI (Cinematic)</option>
                <option value="pika">Pika Labs (Smooth Motion)</option>
                <option value="openai">OpenAI (Basic Animation)</option>
              </optgroup>
              <optgroup label="üÜì FREE Local AI (No API Key)">
                <option value="zeroscope">Zeroscope V2 (Good Quality)</option>
                <option value="modelscope">ModelScope (Fair Quality)</option>
                <option value="stable-video">Stable Video Diffusion (High Quality)</option>
              </optgroup>
            </select>
          </label>

          <!-- Local AI Quality Preset (shown only for local models) -->
          <label id="localQualityLabel" style="display: none;">
            Quality Preset
            <select id="localQuality">
              <option value="auto">üéØ Auto (Detect GPU)</option>
              <option value="potato">ü•î Potato - 2 steps (~2 min, preview quality)</option>
              <option value="ultra-low">üî• Ultra Low - 5 steps (~5 min, very basic)</option>
              <option value="low">‚ö° Low - 10 steps (~10 min, basic)</option>
              <option value="fast">üöÄ Fast - 20 steps (~20 min on 6GB GPU)</option>
              <option value="medium">‚≠ê Medium - 30 steps (~5 min on 8GB GPU)</option>
              <option value="high">üíé High - 50 steps (~3 min on 12GB+ GPU)</option>
              <option value="custom">‚öôÔ∏è Custom Steps</option>
            </select>
          </label>

          <!-- Custom Steps Input (shown when "Custom" is selected) -->
          <label id="customStepsLabel" style="display: none;">
            Inference Steps
            <input type="number" id="customSteps" min="2" max="100" value="20" style="width: 100px;" />
            <small style="color: #9ca3af; display: block; margin-top: 5px;">
              More steps = better quality but slower (2-100)
            </small>
          </label>

          <!-- Provider Capabilities Info -->
          <div id="providerInfo" class="info-box">
            <span id="providerQuality">Quality: Professional</span>
            <span id="providerTime">Est. Time: 2 min</span>
            <span id="providerCost">Cost: $0.50/10s</span>
          </div>

          <label id="videoPromptLabel">
            Video Prompt
            <textarea id="videoPrompt" placeholder="Describe your video..." rows="3"></textarea>
          </label>

          <label id="selectMemesLabel" style="display: none">
            Select Memes
            <button type="button" id="selectMemesBtn" style="margin-top: 5px">
              Select from Library
            </button>
          </label>

          <div id="selectedMemesContainer" style="display: none; margin-top: 10px">
            <h4>Selected Memes:</h4>
            <div id="selectedMemesList" style="display: flex; flex-wrap: wrap; gap: 10px"></div>
          </div>

          <label>Duration (sec)
            <input type="number" id="videoDuration" min="1" value="5" />
          </label>
          <label>Quality
            <select id="videoQuality">
              <option>720p</option>
              <option>1080p</option>
            </select>
          </label>
          <label>Style
            <select id="videoStyle">
              <option>realistic</option>
              <option>cinematic</option>
              <option>animated</option>
            </select>
          </label>
          <label>Aspect Ratio
            <select id="aspectRatio">
              <option>16:9</option>
              <option>9:16</option>
              <option>1:1</option>
            </select>
          </label>
          <label>Frame Rate (fps)
            <select id="frameRate">
              <option>24</option>
              <option>30</option>
            </select>
          </label>

          <button type="button" id="generateVideoBtn" class="action-btn">
            Generate Video
          </button>
        </fieldset>

        <!-- Hashtags -->
        <fieldset>
          <legend>Hashtags</legend>
          <label>Hashtag Mode
            <select id="hashtagMode">
              <option value="auto">Auto Generate</option>
              <option value="manual">Manual Entry</option>
            </select>
          </label>
          <label id="manualHashtagLabel" style="display: none">
            Manual Hashtags
            <input type="text" id="manualHashtags" placeholder="#ai #fun" />
          </label>
        </fieldset>

        <!-- BULK GENERATION MODAL -->
        <div id="bulkModal" style="
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          z-index: 1000;
          overflow-y: auto;
        ">
          <div style="
            background: var(--glass-bg);
            max-width: 800px;
            margin: 50px auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
          ">
            <button id="closeBulkModal" style="
              position: absolute;
              top: 15px;
              right: 15px;
              background: #e53e3e;
              color: white;
              border: none;
              padding: 8px 15px;
              border-radius: 5px;
              cursor: pointer;
            ">
              Close
            </button>

            <h2>Bulk Content Generation</h2>

            <fieldset style="margin: 20px 0; padding: 20px; border-radius: 10px">
              <legend>Generation Settings</legend>

              <label>
                Quantity
                <input type="number" id="bulkQuantity" min="1" max="100" value="10" />
              </label>

              <label>
                Content Type
                <select id="bulkContentType">
                  <option value="meme">Meme</option>
                  <option value="video">Video</option>
                </select>
              </label>

              <label id="bulkVideoModeLabel" style="display: none">
                Video Mode
                <select id="bulkVideoMode">
                  <option value="meme-to-video">Convert Memes to Videos</option>
                  <option value="text-to-video">AI Text-to-Video</option>
                </select>
              </label>

              <label id="bulkVideoDurationLabel" style="display: none">
                Video Duration (seconds)
                <input type="number" id="bulkVideoDuration" min="3" max="30" value="10" />
              </label>

              <label id="bulkTemplateStrategyLabel">
                Template Strategy
                <select id="bulkTemplateStrategy">
                  <option value="random">Random Templates</option>
                  <option value="single">Single Template</option>
                </select>
              </label>

              <label id="bulkSingleTemplateLabel" style="display: none">
                Choose Template
                <select id="bulkSingleTemplate"></select>
              </label>

              <label id="bulkTextModeLabel">
                Text Mode
                <select id="bulkTextMode">
                  <option value="ai">AI Generated</option>
                  <option value="manual">Manual Entry</option>
                </select>
              </label>

              <label id="bulkAiPromptLabel">
                AI Prompt
                <input type="text" id="bulkAiPrompt" placeholder="funny memes about cats" />
              </label>

              <label id="bulkManualTextLabel" style="display: none">
                Text Variations (Top|Bottom per line)
                <textarea id="bulkManualText" rows="5" placeholder="Top Text 1|Bottom Text 1
Top Text 2|Bottom Text 2"></textarea>
              </label>

              <label>
                Platform Variations
                <div style="
                  display: grid;
                  grid-template-columns: repeat(2, 1fr);
                  gap: 10px;
                  margin-top: 8px;
                ">
                  <div>
                    <input type="checkbox" id="bulkInstagram" checked />
                    <label for="bulkInstagram">Instagram (1080x1080)</label>
                  </div>
                  <div>
                    <input type="checkbox" id="bulkTikTok" />
                    <label for="bulkTikTok">TikTok (1080x1920)</label>
                  </div>
                  <div>
                    <input type="checkbox" id="bulkYouTube" />
                    <label for="bulkYouTube">YouTube (1280x720)</label>
                  </div>
                  <div>
                    <input type="checkbox" id="bulkTwitter" />
                    <label for="bulkTwitter">Twitter (1200x675)</label>
                  </div>
                </div>
              </label>

              <label>
                Hashtag Mode
                <select id="bulkHashtagMode">
                  <option value="auto">Auto Generate</option>
                  <option value="manual">Manual Entry</option>
                </select>
              </label>

              <label id="bulkManualHashtagsLabel" style="display: none">
                Manual Hashtags
                <input type="text" id="bulkManualHashtags" placeholder="#meme #funny #viral" />
              </label>

              <button type="button" id="startBulkGeneration" style="
                margin-top: 20px;
                width: 100%;
                padding: 12px;
                background: var(--blue-gradient);
                color: white;
                border: none;
                border-radius: 8px;
                cursor: pointer;
                font-weight: bold;
              ">
                Start Generation
              </button>
            </fieldset>

            <!-- Progress Section -->
            <div id="bulkProgress" style="display: none; margin: 20px 0">
              <h3>Generating...</h3>
              <div style="
                background: #e2e8f0;
                border-radius: 10px;
                height: 30px;
                overflow: hidden;
                margin: 10px 0;
              ">
                <div id="bulkProgressBar" style="
                  background: var(--blue-gradient);
                  height: 100%;
                  width: 0%;
                  transition: width 0.3s;
                "></div>
              </div>
              <p id="bulkProgressText">Preparing...</p>
              <div id="bulkPreviewGrid" style="
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 10px;
                max-height: 400px;
                overflow-y: auto;
                margin-top: 20px;
              "></div>
            </div>

            <!-- Complete Section -->
            <div id="bulkComplete" style="display: none; margin: 20px 0">
              <h3>‚úÖ Generation Complete!</h3>
              <div style="display: flex; gap: 10px; margin-top: 15px">
                <button type="button" id="downloadBulkZip" style="
                  flex: 1;
                  padding: 12px;
                  background: #48bb78;
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  font-weight: bold;
                ">
                  Download ZIP
                </button>
                <button type="button" id="downloadBulkCSV" style="
                  flex: 1;
                  padding: 12px;
                  background: #4299e1;
                  color: white;
                  border: none;
                  border-radius: 8px;
                  cursor: pointer;
                  font-weight: bold;
                ">
                  Download CSV
                </button>
              </div>
            </div>
          </div>
        </div>

      </div>
      <!-- END SECTION: GENERATE -->

      <!-- AI PROVIDER KEY MODAL (Global - appears over all sections) -->
      <div id="aiKeyModal" style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      ">
        <div style="
          background: var(--glass-bg);
          max-width: 500px;
          width: 90%;
          padding: 30px;
          border-radius: 15px;
          position: relative;
        ">
          <button id="closeAiKeyModal" style="
            position: absolute;
            top: 15px;
            right: 15px;
            background: #e53e3e;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
          ">
            √ó
          </button>

          <h2 id="aiModalTitle" style="margin-bottom: 20px">
            Connect to OpenAI
          </h2>

          <div class="feature-highlight" style="
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(74, 144, 226, 0.1);
            border-left: 4px solid var(--blue-gradient);
            border-radius: 5px;
          ">
            <p style="margin: 0; font-size: 0.9rem">
              <strong>üîí Your API key is encrypted</strong><br />
              <span style="font-size: 0.85rem; color: #718096">Your key is stored locally and encrypted before being
                saved.</span>
            </p>
          </div>

          <fieldset style="
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
          ">
            <legend id="aiModalLegend">OpenAI API Key</legend>

            <label style="display: block; margin-bottom: 15px">
              <span style="display: block; margin-bottom: 5px; font-weight: 600">API Key</span>
              <input type="password" id="aiKeyInput" placeholder="sk-..." style="
                width: 100%;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                font-family: monospace;
              " />
              <button type="button" id="toggleAiKeyVisibility" style="
                margin-top: 5px;
                font-size: 0.8rem;
                background: transparent;
                border: none;
                color: #4a90e2;
                cursor: pointer;
              ">
                Show API Key
              </button>
            </label>

            <div id="aiKeyHelp" style="font-size: 0.85rem; color: #718096; line-height: 1.5">
              <!-- Provider-specific help will be inserted here -->
            </div>
          </fieldset>

          <div style="display: flex; gap: 10px; justify-content: flex-end">
            <button type="button" id="testAiConnection" style="
              flex: 1;
              padding: 12px;
              background: #4299e1;
              color: white;
              border: none;
              border-radius: 8px;
              cursor: pointer;
              font-weight: bold;
            ">
              Test Connection
            </button>
            <button type="button" id="saveAiKey" style="
              flex: 1;
              padding: 12px;
              background: var(--blue-gradient);
              color: white;
              border: none;
              border-radius: 8px;
              cursor: pointer;
              font-weight: bold;
            ">
              Save & Connect
            </button>
          </div>

          <div id="aiKeyStatus" style="
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
          "></div>
        </div>
      </div>

      <!-- FIRST TIME SETUP WIZARD MODAL (Global - appears over all sections) -->
      <div id="setupWizardModal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10000; overflow-y: auto;">
        <div
          style="background: var(--glass-bg); max-width: 900px; margin: 30px auto; padding: 40px; border-radius: 20px; position: relative; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
          <button id="closeSetupWizard"
            style="position: absolute; top: 20px; right: 20px; background: #e53e3e; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold;">Skip</button>

          <div style="text-align: center; margin-bottom: 40px;">
            <h1 style="font-size: 36px; margin-bottom: 10px;">üé¨ Welcome to AI Auto Bot!</h1>
            <p style="font-size: 18px; color: #6b7280;">Your FREE social media automation tool</p>
          </div>

          <div
            style="background: linear-gradient(135deg, rgba(74, 144, 226, 0.1) 0%, rgba(30, 60, 114, 0.1) 100%); padding: 25px; border-radius: 15px; margin-bottom: 30px; border-left: 4px solid #4a90e2;">
            <h3 style="margin-bottom: 15px; color: #4a90e2;">‚ú® How It Works (BYOK Model)</h3>
            <p style="line-height: 1.8; margin-bottom: 15px;">This app is <strong>100% FREE</strong>, but you need to
              provide your own API keys:</p>
            <ul style="line-height: 2; margin-left: 20px;">
              <li>‚úÖ <strong>You control your data</strong> - All keys are encrypted locally</li>
              <li>‚úÖ <strong>You control costs</strong> - Pay API providers directly (no middleman)</li>
              <li>‚úÖ <strong>No subscription</strong> - Use the app forever for free</li>
              <li>‚úÖ <strong>Privacy first</strong> - Your data never leaves your computer</li>
            </ul>
          </div>

          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 12px;">
              <h4 style="margin-bottom: 12px; color: #4a90e2;">ü§ñ AI Generation</h4>
              <p style="font-size: 14px; line-height: 1.6; margin-bottom: 10px;">Create images and videos with AI</p>
              <div style="font-size: 12px; color: #9ca3af;">
                <div>OpenAI: <strong>~$0.04/image</strong></div>
                <div>Runway: <strong>~$0.25/sec video</strong></div>
              </div>
            </div>
            <div style="background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 12px;">
              <h4 style="margin-bottom: 12px; color: #48bb78;">üì§ Social Media</h4>
              <p style="font-size: 14px; line-height: 1.6; margin-bottom: 10px;">Post to all platforms</p>
              <div style="font-size: 12px; color: #9ca3af;">
                <div>Instagram/TikTok/YouTube: <strong>FREE</strong></div>
                <div>Twitter: <strong>FREE (1500/mo)</strong></div>
              </div>
            </div>
          </div>

          <div
            style="background: rgba(0, 0, 0, 0.3); padding: 25px; border-radius: 15px; margin-bottom: 30px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <h3 style="margin-bottom: 20px; color: var(--text-primary, #f9fafb);">üöÄ Setup Checklist</h3>
            <div style="display: grid; gap: 12px;">
              <div
                style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
                <input type="checkbox" id="setupCheckOpenAI" style="width: 20px; height: 20px;">
                <label for="setupCheckOpenAI" style="flex: 1; cursor: pointer; color: var(--text-primary, #f9fafb);">
                  <strong>OpenAI API Key</strong> - For image generation
                  <a href="https://platform.openai.com/api-keys" target="_blank"
                    style="color: #4a90e2; text-decoration: none; margin-left: 10px;">Get Key ‚Üí</a>
                </label>
              </div>
              <div
                style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
                <input type="checkbox" id="setupCheckRunway" style="width: 20px; height: 20px;">
                <label for="setupCheckRunway" style="flex: 1; cursor: pointer; color: var(--text-primary, #f9fafb);">
                  <strong>Runway API Key</strong> - For video generation (optional)
                  <a href="https://runwayml.com" target="_blank"
                    style="color: #4a90e2; text-decoration: none; margin-left: 10px;">Get Key ‚Üí</a>
                </label>
              </div>
              <div
                style="display: flex; align-items: center; gap: 10px; padding: 12px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px;">
                <input type="checkbox" id="setupCheckSocial" style="width: 20px; height: 20px;">
                <label for="setupCheckSocial" style="flex: 1; cursor: pointer; color: var(--text-primary, #f9fafb);">
                  <strong>Social Media OAuth</strong> - Connect your accounts
                  <span style="color: #9ca3af; font-size: 14px; margin-left: 10px;">(Setup after opening app)</span>
                </label>
              </div>
            </div>
          </div>

          <div style="display: flex; gap: 15px;">
            <button id="openSettingsFromWizard"
              style="flex: 1; padding: 15px; background: var(--blue-gradient); color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px;">
              ‚öôÔ∏è Open Settings & Add Keys
            </button>
            <button id="continueWithoutSetup"
              style="flex: 1; padding: 15px; background: #6b7280; color: white; border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 16px;">
              Skip for Now
            </button>
          </div>

          <p style="text-align: center; margin-top: 20px; font-size: 12px; color: #9ca3af;">
            üí° Tip: You can access this wizard anytime from Settings ‚Üí "Show Setup Guide"
          </p>
        </div>
      </div>

      <!-- SECTION: LIBRARY -->
      <div id="section-library" class="content-section">
        <header class="section-header">
          <h1>üìö Content Library</h1>
          <p>Browse and manage your saved content</p>
        </header>

        <!-- CONFIG MANAGER -->
        <div id="configManager">
          <div class="filter-bar">
            <input type="text" id="configNameInput" placeholder="Config Name" />
            <button type="button" id="saveConfigBtn">Save Config</button>
          </div>

          <fieldset id="savedConfigsFieldset">
            <legend>Saved Configurations</legend>
            <ul id="savedConfigsList"></ul>
          </fieldset>
        </div>

        <!-- Content Library (moved outside form) -->
        <fieldset id="libraryFieldset">
          <legend>Content Library</legend>
          <div class="filter-bar">
            <input type="text" id="librarySearch" placeholder="Search by caption, hashtag, or platform..." />
            <select id="libraryFilter">
              <option value="all">All Content</option>
              <option value="meme">Memes Only</option>
              <option value="video">Videos Only</option>
              <option value="posted">Posted</option>
              <option value="draft">Drafts</option>
            </select>
          </div>
          <div id="libraryGrid" class="library-grid">
            <p style="text-align: center; color: #718096; padding: 40px">
              No content yet
            </p>
          </div>
        </fieldset>

      </div>
      <!-- END SECTION: LIBRARY -->

      <!-- SECTION: SETTINGS -->
      <div id="section-settings" class="content-section">
        <header class="section-header">
          <h1>‚öôÔ∏è Settings</h1>
          <p>Configure API keys, OAuth, and preferences</p>
        </header>

        <!-- Settings Form -->
        <form id="settingsForm">
          <!-- Connect Your Social Media Accounts -->
          <fieldset class="oauth-fieldset">
            <legend>Connect Your Social Media Accounts</legend>
            <div class="oauth-buttons">
              <div class="oauth-pair">
                <button type="button" id="connectInstagramBtn">üîó Connect Instagram <span class="status-badge"
                    id="status-instagram">Missing</span><span class="status-spinner" id="spinner-instagram"
                    aria-hidden="true"></span></button>
                <button type="button" id="disconnectInstagramBtn" class="disconnect-btn"
                  style="display:none">Disconnect</button>
              </div>
              <div class="oauth-pair">
                <button type="button" id="connectTikTokBtn">üîó Connect TikTok <span class="status-badge"
                    id="status-tiktok">Missing</span><span class="status-spinner" id="spinner-tiktok"
                    aria-hidden="true"></span></button>
                <button type="button" id="disconnectTikTokBtn" class="disconnect-btn"
                  style="display:none">Disconnect</button>
              </div>
              <div class="oauth-pair">
                <button type="button" id="connectYouTubeBtn">üîó Connect YouTube <span class="status-badge"
                    id="status-youtube">Missing</span><span class="status-spinner" id="spinner-youtube"
                    aria-hidden="true"></span></button>
                <button type="button" id="disconnectYouTubeBtn" class="disconnect-btn"
                  style="display:none">Disconnect</button>
              </div>
              <div class="oauth-pair">
                <button type="button" id="connectTwitterBtn">üîó Connect Twitter <span class="status-badge"
                    id="status-twitter">Missing</span><span class="status-spinner" id="spinner-twitter"
                    aria-hidden="true"></span></button>
                <button type="button" id="disconnectTwitterBtn" class="disconnect-btn"
                  style="display:none">Disconnect</button>
              </div>
            </div>

            <!-- hidden token stores used by renderer.js -->
            <input type="hidden" id="instagramToken" />
            <input type="hidden" id="tiktokToken" />
            <input type="hidden" id="youtubeToken" />
            <input type="hidden" id="twitterToken" />
          </fieldset>

          <!-- AI Provider Authentication -->
          <fieldset class="oauth-fieldset">
            <legend>Connect AI Providers</legend>
            <div class="feature-highlight" style="margin-bottom: 15px">
              <strong>ü§ñ Connect your AI providers to unlock content generation</strong>
              <p style="margin: 5px 0; font-size: 0.85rem; color: #718096">
                Your API keys are encrypted and stored securely
              </p>
              <button type="button" id="reopenSetupWizard"
                style="margin-top: 10px; padding: 8px 16px; background: #4a90e2; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px;">
                üìñ Show Setup Guide
              </button>
            </div>
            <div class="oauth-buttons">
              <button type="button" id="connectOpenAIBtn" class="ai-connect-btn" data-provider="openai">
                <span class="connect-icon">üîó</span>
                <span class="provider-name">Connect OpenAI</span>
                <span class="connected-badge" style="display: none">‚úì Connected</span>
              </button>
              <button type="button" id="connectRunwayMLBtn" class="ai-connect-btn" data-provider="runway">
                <span class="connect-icon">üîó</span>
                <span class="provider-name">Connect Runway ML</span>
                <span class="connected-badge" style="display: none">‚úì Connected</span>
              </button>
              <button type="button" id="connectLumaAIBtn" class="ai-connect-btn" data-provider="luma">
                <span class="connect-icon">üîó</span>
                <span class="provider-name">Connect Luma AI</span>
                <span class="connected-badge" style="display: none">‚úì Connected</span>
              </button>
              <button type="button" id="connectHaiperAIBtn" class="ai-connect-btn" data-provider="haiper">
                <span class="connect-icon">üîó</span>
                <span class="provider-name">Connect Haiper AI</span>
                <span class="connected-badge" style="display: none">‚úì Connected</span>
              </button>
              <button type="button" id="connectPikaLabsBtn" class="ai-connect-btn" data-provider="pika">
                <span class="connect-icon">üîó</span>
                <span class="provider-name">Connect Pika Labs</span>
                <span class="connected-badge" style="display: none">‚úì Connected</span>
              </button>
              <div style="width:100%; margin-top:8px; display:flex; gap:8px;">
                <button type="button" id="resetAllBtn" class="small-action-btn danger">Reset Connections & Clear
                  All</button>
              </div>
            </div>

            <!-- Hidden fields to store active provider and encrypted keys -->
            <input type="hidden" id="aiProvider" value="" />
            <input type="hidden" id="openaiApiKey" />
            <input type="hidden" id="runwayApiKey" />
            <input type="hidden" id="lumaApiKey" />
            <input type="hidden" id="haiperApiKey" />
            <input type="hidden" id="pikaApiKey" />
          </fieldset>

          <!-- Platforms -->
          <fieldset>
            <legend>Target Platforms</legend>
            <div class="platform-grid">
              <div class="checkbox-item">
                <input type="checkbox" id="instagram" />
                <label for="instagram">Instagram</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="tiktok" />
                <label for="tiktok">TikTok</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="youtube" />
                <label for="youtube">YouTube</label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="twitter" />
                <label for="twitter">Twitter</label>
              </div>
            </div>
          </fieldset>

          <!-- Content Templates -->
          <fieldset class="template-fieldset">
            <legend>üìù Content Templates</legend>
            <p style="margin: 0 0 16px 0; color: var(--text-secondary); font-size: 0.9rem;">
              Create reusable templates with variables like {platform}, {date}, {hashtags}, {username}
            </p>

            <div class="template-container">
              <!-- Template List -->
              <div id="templateList">
                <!-- Templates will be rendered here -->
              </div>

              <!-- Add/Edit Template Form -->
              <div id="templateForm">
                <h3 id="templateFormTitle">New Template</h3>

                <input type="hidden" id="editingTemplateId" />

                <div class="template-form-field">
                  <label for="templateName" class="template-form-label">Template Name</label>
                  <input type="text" id="templateName" class="template-form-input"
                    placeholder="e.g., Product Launch, Daily Motivation" />
                </div>

                <div class="template-form-field">
                  <label for="templateCaption" class="template-form-label">Caption Template</label>
                  <textarea id="templateCaption" class="template-form-textarea" rows="4"
                    placeholder="Use variables: {platform}, {date}, {username}, {hashtags}"></textarea>
                  <div class="template-form-hint">
                    Available variables: {platform}, {date}, {time}, {username}, {account}, {hashtags}
                  </div>
                </div>

                <div class="template-form-field">
                  <label for="templateHashtags" class="template-form-label">Default Hashtags</label>
                  <input type="text" id="templateHashtags" class="template-form-input"
                    placeholder="#example #hashtags #template" />
                </div>

                <div class="template-form-field">
                  <label for="templateCategory" class="template-form-label">Category</label>
                  <select id="templateCategory" class="template-form-select">
                    <option value="marketing">Marketing</option>
                    <option value="lifestyle">Lifestyle</option>
                    <option value="content">Content</option>
                    <option value="engagement">Engagement</option>
                    <option value="educational">Educational</option>
                    <option value="promotional">Promotional</option>
                    <option value="other">Other</option>
                  </select>
                </div>

                <div class="template-form-field">
                  <label class="template-form-label">Target Platforms</label>
                  <div class="template-platform-grid">
                    <label class="template-platform-label">
                      <input type="checkbox" id="templatePlatformInstagram" value="instagram" />
                      <span>üì∑ Instagram</span>
                    </label>
                    <label class="template-platform-label">
                      <input type="checkbox" id="templatePlatformTiktok" value="tiktok" />
                      <span>üéµ TikTok</span>
                    </label>
                    <label class="template-platform-label">
                      <input type="checkbox" id="templatePlatformYoutube" value="youtube" />
                      <span>‚ñ∂Ô∏è YouTube</span>
                    </label>
                    <label class="template-platform-label">
                      <input type="checkbox" id="templatePlatformTwitter" value="twitter" />
                      <span>üê¶ Twitter</span>
                    </label>
                  </div>
                </div>

                <div class="template-button-group">
                  <button type="button" id="saveTemplateBtn" class="template-button-primary">
                    üíæ Save Template
                  </button>
                  <button type="button" id="cancelTemplateBtn" class="template-button-secondary">
                    Cancel
                  </button>
                </div>
              </div>

              <!-- Add Template Button -->
              <button type="button" id="addTemplateBtn" class="template-add-button">
                <span style="font-size: 1.2em;">+</span>
                <span>Create New Template</span>
              </button>
            </div>
          </fieldset>

        </form>

      </div>
      <!-- END SECTION: SETTINGS -->

      <!-- SECTION: SCHEDULE -->
      <div id="section-schedule" class="content-section">
        <header class="section-header">
          <h1>üìÖ Schedule Posts</h1>
          <p>Schedule content for automatic posting</p>
        </header>

        <!-- View Toggle Tabs -->
        <div class="schedule-view-tabs">
          <button class="schedule-tab active" data-view="form">Schedule</button>
          <button class="schedule-tab" data-view="calendar">Calendar View</button>
        </div>

        <!-- Form View (Original Scheduling) -->
        <div id="schedule-form-view" class="schedule-view active">
          <!-- Scheduling & Scheduled Posts (Combined) -->
          <fieldset id="schedulingFieldset">
            <legend>Scheduling & Scheduled Posts</legend>

            <!-- Selected Content Preview -->
            <div id="selectedContentPreview" style="
                display: none;
                margin-bottom: 16px;
                padding: 12px;
                background: rgba(72, 187, 120, 0.1);
                border: 2px solid #48bb78;
                border-radius: 8px;
              ">
              <div style="display: flex; align-items: center; gap: 12px">
                <img id="selectedContentImg" style="
                    width: 80px;
                    height: 80px;
                    object-fit: cover;
                    border-radius: 4px;
                  " />
                <div style="flex: 1">
                  <div style="font-weight: bold; color: #48bb78; margin-bottom: 4px">
                    ‚úì Content Selected
                  </div>
                  <div id="selectedContentInfo" style="font-size: 0.85em; color: var(--text-color, #666)"></div>
                </div>
              </div>
            </div>

            <label>Post At
              <input type="datetime-local" id="scheduleDateTime" />
            </label>
            <label>Recurrence
              <select id="recurrenceSelect">
                <option value="none">None</option>
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
              </select>
            </label>
            <label>Timezone
              <select id="timezoneSelect"></select>
            </label>
            <button type="button" id="schedulePostBtn" class="action-btn">
              Schedule Post
            </button>

            <!-- Scheduled Posts List (now part of same card) -->
            <div style="
                margin-top: 16px;
                padding-top: 16px;
                border-top: 1px solid rgba(255, 255, 255, 0.1);
              ">
              <h4 style="
                  margin-top: 0;
                  margin-bottom: 8px;
                  font-size: 0.9rem;
                  color: #667eea;
                ">
                Scheduled Posts:
              </h4>
              <ul id="scheduledPostsList"></ul>
            </div>
          </fieldset>
        </div>

        <!-- Calendar View -->
        <div id="schedule-calendar-view" class="schedule-view">
          <fieldset>
            <legend>Content Calendar</legend>
            <div class="calendar-controls">
              <div class="calendar-legend">
                <span class="legend-item"><span class="legend-color" style="background: #E1306C;"></span>
                  Instagram</span>
                <span class="legend-item"><span class="legend-color" style="background: #000000;"></span> TikTok</span>
                <span class="legend-item"><span class="legend-color" style="background: #FF0000;"></span> YouTube</span>
                <span class="legend-item"><span class="legend-color" style="background: #1DA1F2;"></span> Twitter</span>
              </div>
            </div>
            <div id="calendar"></div>
          </fieldset>
        </div>

      </div>
      <!-- END SECTION: SCHEDULE -->

      <!-- SECTION: STATS -->
      <div id="section-stats" class="content-section">
        <header class="section-header">
          <h1>ÔøΩ Analytics & Stats</h1>
          <p>Track performance, costs, and activity</p>
        </header>

        <!-- Analytics Dashboard -->
        <fieldset id="analyticsFieldset">
          <legend>üìä Post Performance</legend>

          <!-- Date Range Filter -->
          <div class="analytics-controls">
            <label for="analyticsDateRange">Time Period:</label>
            <select id="analyticsDateRange" class="full-width-select">
              <option value="7">Last 7 Days</option>
              <option value="30" selected>Last 30 Days</option>
              <option value="90">Last 90 Days</option>
              <option value="all">All Time</option>
            </select>
            <button type="button" id="refreshAnalyticsBtn" class="btn-secondary">üîÑ Refresh</button>
          </div>

          <!-- Analytics Summary Cards -->
          <div class="analytics-summary">
            <div class="summary-card">
              <div class="summary-icon">üìù</div>
              <div class="summary-content">
                <div class="summary-label">Total Posts</div>
                <div class="summary-value" id="totalPostsValue">0</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">üëÅÔ∏è</div>
              <div class="summary-content">
                <div class="summary-label">Total Impressions</div>
                <div class="summary-value" id="totalImpressionsValue">0</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">üí¨</div>
              <div class="summary-content">
                <div class="summary-label">Total Engagement</div>
                <div class="summary-value" id="totalEngagementValue">0</div>
              </div>
            </div>
            <div class="summary-card">
              <div class="summary-icon">üìà</div>
              <div class="summary-content">
                <div class="summary-label">Engagement Rate</div>
                <div class="summary-value" id="engagementRateValue">0%</div>
              </div>
            </div>
          </div>

          <!-- Charts Grid -->
          <div class="analytics-charts">
            <!-- Posting Frequency Chart -->
            <div class="chart-container">
              <h3>üìÖ Posting Frequency</h3>
              <canvas id="postingFrequencyChart"></canvas>
            </div>

            <!-- Engagement by Platform Chart -->
            <div class="chart-container">
              <h3>üåê Engagement by Platform</h3>
              <canvas id="platformEngagementChart"></canvas>
            </div>

            <!-- Content Type Performance Chart -->
            <div class="chart-container">
              <h3>üé® Content Type Performance</h3>
              <canvas id="contentTypeChart"></canvas>
            </div>

            <!-- Best Posting Times Heatmap -->
            <div class="chart-container">
              <h3>‚è∞ Best Posting Times</h3>
              <div id="bestPostingTimes" class="best-times-grid">
                <div class="best-times-section">
                  <h4>Top Hours</h4>
                  <div id="bestHoursContainer"></div>
                </div>
                <div class="best-times-section">
                  <h4>Top Days</h4>
                  <div id="bestDaysContainer"></div>
                </div>
              </div>
            </div>
          </div>
        </fieldset>

        <!-- Cost Tracker -->
        <fieldset id="costTrackerFieldset">
          <legend>üí∞ API Cost Tracker</legend>
          <div class="cost-tracker">
            <div class="cost-stat">
              <span class="cost-label">Images Generated:</span>
              <span class="cost-value" id="imagesGenerated">0</span>
            </div>
            <div class="cost-stat">
              <span class="cost-label">Estimated OpenAI Cost:</span>
              <span class="cost-value" id="openaiCost">$0.00</span>
            </div>
            <div class="cost-stat">
              <span class="cost-label">Videos Generated:</span>
              <span class="cost-value" id="videosGenerated">0</span>
            </div>
            <div class="cost-stat">
              <span class="cost-label">Estimated Runway Cost:</span>
              <span class="cost-value" id="runwayCost">$0.00</span>
            </div>
            <div class="cost-stat cost-total">
              <span class="cost-label">Total Estimated:</span>
              <span class="cost-value" id="totalCost">$0.00</span>
            </div>
            <button type="button" id="resetCostsBtn" class="reset-costs-btn">Reset Tracker</button>
          </div>
        </fieldset>

        <!-- Activity Log -->
        <fieldset>
          <legend>Activity Log</legend>
          <div id="logContainer" class="log-container"></div>
        </fieldset>
      </div>
      <!-- END SECTION: STATS -->

    </div>
    <!-- END CONTAINER -->
  </div>
  <!-- END MAIN CONTENT -->

  <!-- Provider Config Modal (for social provider client id/secret entry) -->
  <div id="providerConfigModal" style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        z-index: 1100;
        align-items: center;
        justify-content: center;
      ">
    <div style="
          background: var(--glass-bg);
          max-width: 520px;
          width: 94%;
          padding: 20px;
          border-radius: 12px;
          position: relative;
        ">
      <button id="closeProviderConfig" style="
            position: absolute;
            top: 12px;
            right: 12px;
            background: #e53e3e;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
          ">√ó</button>

      <h2 id="providerConfigTitle">Configure Provider</h2>

      <p style="color: #718096; font-size: 0.95rem; margin-bottom: 12px">
        To use this provider, you need OAuth credentials from their developer portal.
        <strong>All credentials are stored locally and encrypted.</strong>
      </p>

      <!-- Help Section with Links -->
      <div id="providerHelpSection" style="
            background: #edf2f7;
            border-left: 4px solid #4299e1;
            padding: 12px;
            margin-bottom: 16px;
            border-radius: 6px;
            font-size: 0.9rem;
          ">
        <div style="font-weight: 600; margin-bottom: 8px; color: #2d3748">üìã Setup Instructions:</div>
        <ol style="margin: 8px 0 8px 20px; line-height: 1.6; color: #4a5568">
          <li>Visit the developer portal (link below)</li>
          <li>Create an app and get your Client ID & Secret</li>
          <li>Set redirect URI to: <code
              style="background: #cbd5e0; padding: 2px 6px; border-radius: 3px">http://localhost:3000/oauth/callback</code>
          </li>
          <li>Enter credentials below and click "Save & Connect"</li>
        </ol>
        <div style="margin-top: 10px">
          <a id="providerPortalLink" href="#" target="_blank" style="
                color: #3182ce;
                text-decoration: none;
                font-weight: 600;
                display: inline-flex;
                align-items: center;
                gap: 4px;
              ">
            üîó Open Developer Portal ‚Üí
          </a>
        </div>
      </div>

      <fieldset style="margin-top: 12px; border: 1px solid #e2e8f0; padding: 12px; border-radius: 8px">
        <label style="display:block; margin-bottom:8px">
          <div style="font-weight:600; margin-bottom:6px">Client ID</div>
          <input id="providerClientId" type="text" style="width:100%; padding:8px;" />
        </label>

        <label style="display:block; margin-bottom:8px">
          <div style="font-weight:600; margin-bottom:6px">Client Secret</div>
          <input id="providerClientSecret" type="password" style="width:100%; padding:8px;" />
        </label>

        <label style="display:block; margin-bottom:8px">
          <div style="font-weight:600; margin-bottom:6px">Redirect URI</div>
          <input id="providerRedirectUri" type="text" style="width:100%; padding:8px;"
            value="http://localhost:3000/oauth/callback" />
        </label>

        <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:10px">
          <button id="saveProviderConfig"
            style="padding:10px 14px; background:var(--blue-gradient); color:white; border:none; border-radius:6px;">Save
            & Connect</button>
          <button id="cancelProviderConfig"
            style="padding:10px 14px; background:#e2e8e0; border:none; border-radius:6px;">Cancel</button>
        </div>
      </fieldset>
    </div>
  </div>

  <!-- Content Preview Modal -->
  <div id="previewModal" class="preview-modal">
    <div class="preview-content">
      <div class="preview-header">
        <div class="preview-title">Preview Post</div>
        <button class="preview-close" id="closePreviewModal">&times;</button>
      </div>
      <div class="preview-body">
        <div class="preview-platform-tabs">
          <button class="preview-platform-tab active" data-platform="instagram">Instagram</button>
          <button class="preview-platform-tab" data-platform="tiktok">TikTok</button>
          <button class="preview-platform-tab" data-platform="youtube">YouTube</button>
          <button class="preview-platform-tab" data-platform="twitter">Twitter</button>
        </div>
        <div class="preview-platform-content active" data-platform="instagram">
          <img id="previewImageInstagram" class="preview-image" src="" alt="Preview" />
          <div id="previewCaptionInstagram" class="preview-caption"></div>
        </div>
        <div class="preview-platform-content" data-platform="tiktok">
          <img id="previewImageTiktok" class="preview-image" src="" alt="Preview" />
          <div id="previewCaptionTiktok" class="preview-caption"></div>
        </div>
        <div class="preview-platform-content" data-platform="youtube">
          <img id="previewImageYoutube" class="preview-image" src="" alt="Preview" />
          <div id="previewCaptionYoutube" class="preview-caption"></div>
        </div>
        <div class="preview-platform-content" data-platform="twitter">
          <img id="previewImageTwitter" class="preview-image" src="" alt="Preview" />
          <div id="previewCaptionTwitter" class="preview-caption"></div>
        </div>
      </div>
      <div class="preview-footer">
        <button id="previewConfirmPost" style="
          padding: 10px 24px;
          background: var(--blue-gradient);
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-weight: 600;
        ">Post Now</button>
        <button id="cancelPreviewModal" style="
          padding: 10px 24px;
          background: #e5e7eb;
          border: none;
          border-radius: 6px;
          cursor: pointer;
        ">Cancel</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
  <script>
    // Initialize security features after page load
    if (typeof initSecurityFeatures === 'function') {
      initSecurityFeatures();
    }
  </script>
</body>

</html>
